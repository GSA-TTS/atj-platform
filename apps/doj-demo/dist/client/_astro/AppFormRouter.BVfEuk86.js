import{j as s,c as u}from"./hoisted.BEYJ10uI.js";import"./index.DFIQk4pD.js";import{H as l,R as m,a as f,u as p,b as x,F as h,g as b,d as j}from"./context.DCw82Bp5.js";function R({context:t,formService:r}){return s.jsx(l,{children:s.jsx(m,{children:s.jsx(f,{path:"/:formId",Component:()=>{const{formId:o}=p(),n=x();if(o===void 0)return s.jsx("div",{children:"formId is undefined"});const e=r.getForm(o);if(!e.success)return s.jsx("div",{className:"usa-alert usa-alert--error",role:"alert",children:s.jsxs("div",{className:"usa-alert__body",children:[s.jsx("h4",{className:"usa-alert__heading",children:"Error loading form"}),s.jsx("p",{className:"usa-alert__text",children:e.error})]})});const c=u(e.data,n);return s.jsx(h,{context:t,session:c,onSubmit:async d=>{const a=await r.submitForm(c,o,d);a.success?a.data.forEach(i=>{g(i.fileName,i.data)}):console.error(a.error)}})}})})})}const g=(t,r)=>{const o=new Blob([r],{type:"application/pdf"}),n=URL.createObjectURL(o),e=document.createElement("a");e.setAttribute("href",n),e.setAttribute("download",t),e.style.display="none",document.body.appendChild(e),e.click(),document.body.removeChild(e)};function w(){const t=b();return s.jsx(R,{context:{config:t.formConfig,components:j,uswdsRoot:t.uswdsRoot},formService:t.formService})}export{w as default};
