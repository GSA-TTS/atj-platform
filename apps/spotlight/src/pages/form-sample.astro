---
import { createSequentialInterview } from '@atj/interviews';
import { getAppContext } from '../context';
import { InterviewForm } from '../components/react/interview-form';
import ContentLayout from '../layouts/ContentLayout.astro';

const context = getAppContext(import.meta.env);

const sampleInterview = createSequentialInterview({
  summary: {
    title: 'Silly nonsense',
    description:
      'This interview helps us wire up a foundation for guided interviews',
  },
  questionList: [
    {
      fact: {
        type: 'text',
        initial: '',
      },
      field: {
        id: 'favorite-color',
        name: 'favorite-color',
        type: 'text',
        required: true,
        title: 'Tell us your favorite color.',
        description: 'Enter red, green, or blue.',
        placeholder: 'favorite color',
      },
    },
    {
      fact: {
        type: 'boolean',
        initial: false,
      },
      field: {
        id: 'test-boolean',
        name: 'test-boolean',
        type: 'boolean',
        required: false,
        title: 'Do you like true or false?',
        description: 'If you like true, enter "yes"; otherwise, enter "no".',
        placeholder: '[yes] or [no]',
      },
    },
  ],
});
---

<ContentLayout context={context} title="10x Access to Justice Spotlight">
  <InterviewForm client:load interview={sampleInterview} />
</ContentLayout>
